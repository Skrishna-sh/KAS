<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Racing+Sans+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/button.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="contact.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Racing+Sans+One&display=swap" rel="stylesheet">
    <style>
        body {
            margin-top: 14vh;
        }

        section {
            display: flex;
            height: 60vh;
            width: 90%;
            /* border: 2px solid green; */
            margin: 10px 5%;
            padding: 15px;
        }

        #email-section {
            width: 35%;
        }

        #email-section span {
            font-size: 24px;
            display: inline-block;
        }

        #email-section div {
            margin-left: 30px;
            font-size: 28px;
        }

        a {
            text-decoration: none;
            color: white;
        }

        #email-logo {
            width: 20px;
            filter: invert(1);
            margin: 10px 5px 0 5px;
        }

        form {
            padding: 0 25px;
            margin-left: 50px;
        }

        form span {
            display: inline-block;
            margin: 10px 30px 20px 30px;
        }

        form span input {
            width: 300px;
            font-size: 15px;
            padding: 0 5px;
            margin-bottom: 10px;
            height: 40px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        form span input.invalid {
            border-color: red;
        }

        form span .error-message {
            color: red;
            font-size: 12px;
            display: none;
        }

        #city-dropdown {
            position: relative;
        }

        .dropdown-content {
            color: white;
            background-color: black;
            position: absolute;
            display: none;
            z-index: 2;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            padding: 12px 16px;
            box-shadow: 10px 8px 16px 0px rgba(177, 166, 166, 0.2);
        }

        .dropdown-content li {
            list-style-type: none;
        }

        #city-dropdown:hover .dropdown-content {
            display: block;
            z-index: 2;
            background-color: rgb(19, 15, 15);
            max-height: 200px;
            overflow: scroll;
        }

        textarea {
            border-radius: 5px;
        }
        /* #button-section{
            background: red;
            
        } */
        button{
            width: 150px;
            height: 30px;
            font-size: 15px;
            margin-left: 300px;
            border-radius: 20px;
        }
    </style>
</head>

<body>
    <h3>LET US CONTACT YOU</h3>
    <section>
        <div id="email-section">
            <img src="assets/envelope-regular.svg" alt="" id="email-logo">
            <span>Email</span>
            <div>
                <a href="mailto:krishnagopalsharma9876@gmail.com">support@kas.com</a>
            </div>
        </div>
        <form id="contact-form">
            <span>
                <input type="text" name="userName" placeholder="Enter Name">
                <div class="error-message">Name is required</div>
            </span>
            <span>
                <input type="text" name="userEmail" placeholder="Enter Email">
                <div class="error-message">Valid email is required</div>
            </span>
            <span>
                <input type="text" name="userMobile" placeholder="Enter Mobile Number">
                <div class="error-message">Mobile number is required</div>
            </span>
            <span id="city-dropdown">
                <input type="text" name="userCity" placeholder="Enter City" id="city-search">
                <div class="error-message">City Name is required</div>
                <div class="dropdown-content" id="results">
                    <ul>
                        <li>Mumbai</li>
                        <li>Thane</li>
                        <li>Pune</li>
                        <li>Nagpur</li>
                        <li>Nashik</li>
                        <li>Delhi</li>
                        <li>Bangalore</li>
                        <li>Hyderabad</li>
                        <li>Chennai</li>
                        <li>Kolkata</li>
                    </ul>
                </div>
                <div class="error-message">City is required</div>
            </span>
            <span>
                <textarea id="feedback" name="userFeedback" rows="4" cols="81" placeholder="Please Share Your feedback"></textarea>
            </span>
            <span>
                <input type="file" name="userFile">
            </span>
            
            <div id="button-section">
                <button type="submit">Submit</button>
            </div>
        </form>
    </section>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const header = document.createElement("header");
            header.id = "navigation";
    
            const nav = document.createElement("nav");
            nav.className = "container";
    
            const img = document.createElement("img");
            img.src = "https://static.vecteezy.com/system/resources/thumbnails/003/694/243/small/car-icon-in-flat-style-simple-traffic-icon-free-vector.jpg";
            img.alt = "";
    
            const ul = document.createElement("ul");
    
            const liHome = document.createElement("li");
            const aHome = document.createElement("a");
            aHome.href = "#home";
            aHome.textContent = "Home";
            liHome.appendChild(aHome);
    
            const liCollection = document.createElement("li");
            const aCollection = document.createElement("a");
            aCollection.href = "#bmw";
            aCollection.textContent = "Collection";
            liCollection.appendChild(aCollection);
    
            const liContact = document.createElement("li");
            const aContact = document.createElement("a");
            aContact.href = "contact.html";
            aContact.textContent = "Contact";
            liContact.appendChild(aContact);
    
            ul.appendChild(liHome);
            ul.appendChild(liCollection);
            ul.appendChild(liContact);
    
            const div = document.createElement("div");
    
            const spanForm = document.createElement("span");
            spanForm.onclick = function() { formSection(); };
            const imgUser = document.createElement("img");
            imgUser.src = "/assets/user-solid.svg";
            imgUser.alt = "";
            spanForm.appendChild(imgUser);
    
            const spanWishlist = document.createElement("span");
            spanWishlist.onclick = function() { console.log('Wishlist'); };
            spanWishlist.textContent = "Wishlist";
    
            div.appendChild(spanForm);
            div.appendChild(spanWishlist);
    
            nav.appendChild(img);
            nav.appendChild(ul);
            nav.appendChild(div);
    
            header.appendChild(nav);
    
            document.body.prepend(header);
        });
    </script>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        $(document).ready(function() {
            $('#city-search').on('keyup', function() {
                let query = $(this).val().toLowerCase();
                if (query.length > 0) {
                    $('#results').show();
                    $('#results li').filter(function() {
                        $(this).toggle($(this).text().toLowerCase().indexOf(query) > -1);
                    });
                } else {
                    $('#results').hide();
                }
            });

            $(document).on('click', '#results li', function() {
                $('#city-search').val($(this).text());
                $('#results').hide();
            });

            $(document).click(function(event) {
                if (!$(event.target).closest('#city-dropdown').length) {
                    $('#results').hide();
                }
            });

            $('#contact-form').on('submit', function(event) {
                event.preventDefault();
                let isValid = true;

                // Validate Name
                const userName = $('input[name="userName"]');
                if (userName.val().trim() === "") {
                    userName.addClass('invalid');
                    userName.next('.error-message').show();
                    isValid = false;
                } else {
                    userName.removeClass('invalid');
                    userName.next('.error-message').hide();
                }

                // Validate Email
                const userEmail = $('input[name="userEmail"]');
                const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailPattern.test(userEmail.val().trim())) {
                    userEmail.addClass('invalid');
                    userEmail.next('.error-message').show();
                    isValid = false;
                } else {
                    userEmail.removeClass('invalid');
                    userEmail.next('.error-message').hide();
                }

                // Validate Mobile
                const userMobile = $('input[name="userMobile"]');
                if (userMobile.val().trim() === "") {
                    userMobile.addClass('invalid');
                    userMobile.next('.error-message').show();
                    isValid = false;
                } else {
                    userMobile.removeClass('invalid');
                    userMobile.next('.error-message').hide();
                }

                // Validate City
                const userCity = $('input[name="userCity"]');
                if (userCity.val().trim() === "") {
                    userCity.addClass('invalid');
                    userCity.next('.error-message').show();
                    isValid = false;
                } else {
                    userCity.removeClass('invalid');
                    userCity.next('.error-message').hide();
                }

                if (isValid) {
                    alert(
                        "Name: " + userName.val().trim() + "\n" +
                        "Email: " + userEmail.val().trim() + "\n" +
                        "Mobile: " + userMobile.val().trim() + "\n" +
                        "City: " + userCity.val().trim() + "\n" +
                        "Feedback: " + $('#feedback').val().trim()
                    );
                }
            });
        });
    </script>
</body>

</html>
